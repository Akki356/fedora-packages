#
# Fedora Community - Moksha development environment configuration
#
# The %(here)s variable will be replaced with the parent directory of this file
#
# This file is for deployment specific config options -- other configuration
# that is always required for the app is done in the config directory,
# and generally should not be modified by end users.

[DEFAULT]
debug = true
profile = false

# setup the applications
fedoracommunity.mainnav.apps = (MokshaApp('Overview', 'fedoracommunity.overviewresource'),
                                MokshaApp('My Profile', 'fedoracommunity.myprofileresource', auth=not_anonymous()),
                                MokshaApp('Package Maintenance', 'fedoracommunity.packagemaintresource',
                                          params={'package': None}  ),
                                MokshaApp('People','fedoracommunity.peopleresource',
                                          params={'username': None}),
                                MokshaApp('Search', 'fedoracommunity.search',
                                          params={'search': None, 'st': None})
                               )

# The overview application default dashboard layout
fedoracommunity.overview.layout.default = (MokshaApp('Login', 'fedoracommunity.login'))

fedoracommunity.extensions_dir = %(here)s/fedoracommunity/plugins/extensions

fedoracommunity.connector.kojihub.baseurl = https://koji.fedoraproject.org/kojihub
fedoracommunity.connector.bugzilla.baseurl = https://bugzilla.redhat.com/xmlrpc.cgi
fedoracommunity.connector.fas.baseurl = https://admin.fedoraproject.org/accounts/
fedoracommunity.connector.bodhi.baseurl = https://admin.fedoraproject.org/updates

# FAS is locked down so we need a minimal user inorder to get public user info
# to unauthenticated users.  You need to get a locked down account for this
# and fill in the user info here.  Never check this file into git  with
# this information filled in
# fedoracommunity.connector.fas.minimal_user_name=
# fedoracommunity.connector.fas.minimal_user_password=


# This is insecure, use only for testing
fedora.clients.check_certs = False

## Moksha configuration

moksha.extensionpoints = True

moksha.csrf_protection = True
moksha.csrf.login_handler = /login_handler

feed_cache = sqlite:///feeds.db


[server:main]
use = egg:Paste#http
host = 0.0.0.0
port = 8080

[app:main]
use = egg:fedoracommunity

# Logging configuration
# Add additional loggers, handlers, formatters here
# Uses python's logging config file format
# http://docs.python.org/lib/logging-config-fileformat.html

[loggers]
keys = root, sqlalchemy, moksha, fedoracommunity, fedora, auth, tg

[handlers]
keys = console

[formatters]
keys = generic

# If you create additional loggers, add them as a key to [loggers]
[logger_root]
level = INFO
handlers = console

[logger_tg]
level = ERROR
handlers =
qualname = tg

[logger_auth]
level = WARN
handlers =
qualname = auth

[logger_fedoracommunity]
level = WARN
handlers =
qualname = fedoracommunity

[logger_moksha]
level = WARN
handlers =
qualname = moksha

[logger_fedora]
level = DEBUG
handlers =
qualname = fedora




[logger_sqlalchemy]
level = INFO
handlers =
qualname = sqlalchemy.engine
# "level = INFO" logs SQL queries.
# "level = DEBUG" logs SQL queries and results.
# "level = WARN" logs neither.  (Recommended for production systems.)

# If you create additional handlers, add them as a key to [handlers]
[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

# If you create additional formatters, add them as a key to [formatters]
[formatter_generic]
format = %(asctime)s,%(msecs)03d %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S

